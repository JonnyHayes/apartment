{"version":3,"file":"../button-spinner-script.js","sources":["button-spinner-script.coffee"],"names":[],"mappings":"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","sourcesContent":["# ---------------- loading spiner class ---------------\n\nclass window.LoadingSpinner\n\n  constructor: ($container, options) ->\n\n    # set default options\n    defaults = {\n      fadeDuration: 300\n    }\n\n    # override the defaults with the passed in options\n    @options = $.extend(defaults, options)\n\n    if (!$(\"div\").hasClass(\"loadingSpinner\"))\n      # create the spinner and add it to the container\n      @$spinner = $(\"<div>\").addClass(\"loadingSpinner\")\n      $container.append(@$spinner)\n      @$spinner.hide().fadeIn(@options.fadeDuration)\n\n\n  destroy: ->\n\n    @$spinner.fadeOut(@options.fadeDuration, =>\n      @$spinner.remove()\n      @$spinner = null\n    )\n\n\n\n\n# ---------------- spinner <a> class ---------------\n\nclass window.SpinnerA\n\n  constructor: (@$a, @clickCallback, options) ->\n\n    # set default options\n    defaults = {\n      aContentTag: \"span\",\n      fadeDuration: 300,\n      classDuringLoading: \"spinning\"\n    }\n\n    # override the defaults with the passed in options\n    @options = $.extend(defaults, options)\n\n    # if the a has a single dom node inside it, store a reference to it. else, create a new node and put the a text (or children) inside it\n    if @$a.children().length == 1\n      @$childContent = $(@$a.children()[0])\n    else\n\n      @$childContent = $(\"<#{@options.aContentTag}>\")\n\n      if @$a.children().length > 1\n        @$childContent.append(@$a.children())\n      else\n        @$childContent.text(@$a.text())\n        @$a.empty()\n\n      @$a.append(@$childContent)\n\n    # listen for click on the a (if we have a callback function)\n    if @clickCallback? then @$a.click(( => @handleClick() ))\n\n\n  handleClick: ->\n\n    # start the loading animation\n    @start()\n\n    # call the click callback function if we have one (else, return true so the natural a event chain continues to fire)\n    if @clickCallback? then @clickCallback() else return true\n\n\n  start: ->\n\n    # start the loading animation, set the a's class and fade out the existing a content\n    @$a.addClass(@options.classDuringLoading)\n    @$childContent.animate({display: 0}, @options.fadeDuration)\n    @spinner = new LoadingSpinner(@$a, { fadeDuration: @options.fadeDuration })\n\n    # disable the a\n    @$a.prop(\"disabled\", \"true\")\n\n    @$a.addClass(\"disable\")\n\n\n  stop: ->\n\n    # fade back in the existing a content and destroy the loading spinner\n    @$childContent.animate({opacity: 1}, @options.fadeDuration)\n    @spinner.destroy()\n    @spinner = null\n\n    # re-enable the a and remove its class\n    @$a.prop(\"disabled\", \"\")\n    @$a.removeClass(@options.classDuringLoading)\n\n\n\n\n# ---------------------- usage -----------------------\n\n$(document).ready( ->\n\n  # create a spinnerA\n  spinnerA = new SpinnerA($(\"a.spinner\"), ->\n\n    # you can stop the a by calling .stop()\n    setTimeout( ->\n      spinnerA.stop()\n    , 160000)\n  )\n)\n\n# run code on click\n# $('#home-finder-link').click(\n#   $(this).addClass('disable')\n# )\n"]}